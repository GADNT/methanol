dependencies {
  api project(':methanol')
  api deps.jacksonDatabind

  testImplementation project(':methanol-testutils')
}

[compileTestJava, test].each { task ->
  addReads(task, moduleName, 'methanol.testutils')
}

test {
  moduleOptions {
    def pkg ='com.github.mizosoft.methanol.adapter.jackson'
    addOpens = [("$moduleName/$pkg" as String): 'com.fasterxml.jackson.databind']
  }
}
